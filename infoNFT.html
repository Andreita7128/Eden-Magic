<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" type="text/css" href="auctionSection.css">
    <link rel="stylesheet" type="text/css" href="finishedAuctionSection.css">
    <link rel="stylesheet" type="text/css" href="twitterSection.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.3.0/css/all.min.css">
    <title>Product info</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Be+Vietnam+Pro:wght@400;600&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
    <script src="sketch.js"></script>
</head>

<body>

    <!---Creación de artículo-->
    <article class="product-card-container">
        <div class="product-card-content">
            <img src="" class="product-img" />
            <div class="product-descripcion">
                <h2></h2>
                <h2>Collection: </h2>
                <br>
                <p></p>
                <br>
                <p>Cryptocurrency: </p>
                <p>Price: </p>
            </div>

            <button class="next-btn">Ver siguiente</button>
        </div>
    </article>

    <script>

        let position = 0;
        let data = [];
    
        async function getInfo() {
            const response = await fetch('https://udemy-d3-firebase-6e372-default-rtdb.firebaseio.com/products.json');
            data = await response.json();
            updateProductInfo();
        }
    
        // Función para actualizar la información de la tarjeta
        function updateProductInfo() {
            // Obtener los datos del producto actual
            const product = data[position];

            // Actualizar el nombre del producto
            const productName = document.querySelector('.product-descripcion h2');
            productName.innerText = product.name;

            // Actualizar la colección del producto
            const productCollection = document.querySelector('.product-descripcion h2:last-of-type'); //h2:last-of-type para diferenciar
            productCollection.innerText = product.collection;

            // Actualizar la imagen del producto
            const productImg = document.querySelector('.product-img');
            productImg.src = product.url;

            // Actualizar la descripción, la criptomoneda y el precio del producto
            const productDesc = document.querySelectorAll('.product-descripcion p');
            productDesc.item(0).innerText = product.description;
            productDesc.item(1).innerText = product.cryptocurrency;
            productDesc.item(2).innerText = product.price;
        }
    
        const nextBtn = document.querySelector('.next-btn');
        nextBtn.addEventListener('click', () => {
            position++;
            if (position >= data.length) {
                position = 0;
            }
            updateProductInfo();
        });
    
        getInfo();
    
    </script>

</body>

</html>